{% extends "base.html" %}

{% block content %}

<div class="post-entry">
  <p id="Name"><span>Name: </span>{{ post.nazwa }}</p>
  <p><span>Smiles: </span>{{ post.smiles }}</p>
  {% if not post.smiles1 != "" %}
  <p><span>Heat of Formation:</span> {{ post.cieplo }} KJ/MOL </p>  
  <p><span>Total Energy:</span> {{ post.energia }} EV </p>  
  <p><span>Method Used:</span> {{ post.metoda }} </p>  
  {% else %}
  <p><span>Heat of Formation1:</span> {{ post.cieplo1 }} KJ/MOL </p>  
  <p><span>Total Energy1:</span> {{ post.energia1 }} EV </p>  
  <p><span>Heat of Formation2:</span> {{ post.cieplo2 }} KJ/MOL </p>  
  <p><span>Total Energy2:</span> {{ post.energia2 }} EV </p>  
  <p><span>Method Used:</span> {{ post.metoda }} </p>  
  <p><a href="/media/{{post.id}}/ts.html"> REACTION </a></p>
  {% endif %}
</div>






{% if post.calculated %}
<!-- <pre>{{ post.calculations |safe }}</pre>        -->
 
  <p class ="calculate"><a href="{% url 'post_calculations' post.pk %}"># See Calculations </a></p>

{% endif %}

<img src="/media/{{post.id}}/molecule.svg">
<p>
  <script src="https://unpkg.com/ngl@2.0.0-dev.32"></script>
  <script>
    
    document.addEventListener("DOMContentLoaded", function () {
      
      var stage = new NGL.Stage("viewport1");

      window.addEventListener( "resize", function( event ){
        stage.handleResize();
      },
      false);

      stage.loadFile("/media/{{post.id}}/start.mol2", {
        defaultRepresentation: true
      });
    });
   
  </script> 

  <script>

    document.addEventListener("DOMContentLoaded", function () {
      var stage = new NGL.Stage("viewport2");

      stage.loadFile("/media/{{post.id}}/molecule.mol2", {
        defaultRepresentation: true
      });
    });
  
  </script>
  <p class="idk">Start.mol2</p> 
  <div class="scroll">
    <div id="viewport1" class="viewport">
    </div>
  </div>
<img src="/media/{{post.id}}/nalesnik.png">
</br>
<img src="/media/{{post.id}}/placek.png">
  <p class="idk">Molecule.mol2</p>
  <div class="scroll">
    <div id="viewport2" class="viewport">
    </div>
  </div>


{% if not post.calculated %}
<p class="calculate"><a href="{% url 'post_calculate' post.pk %}">+ Calculate Molecule</a></p>  
{% endif %}
{% if post.calculated %}
<!-- <pre>{{ post.calculations |safe }}</pre>        -->
 
  <p class ="calculate"><a href="{% url 'post_calculations' post.pk %}"># See Calculations </a></p>

{% endif %}
<p class="delete"><a href="{% url 'post_delete' post.pk %}">+ Delete Molecule</a></p>
{% endblock content %}
